---
slug: aop
title: Aspect Oriented Programming (AOP)
authors: [ducbq1]
tags: [csharp]
---

# Những Tính Năng Mới Trong C# Từ Phiên Bản 8 Đến 12

## C# 8 (Phát Hành vào 2019)

### 1. **Nullable Reference Types**

- C# 8 giới thiệu kiểu dữ liệu tham chiếu nullable, giúp giảm thiểu lỗi NullReferenceException.
- Bạn có thể khai báo kiểu nullable bằng cách sử dụng dấu `?`, ví dụ: `string?`.

### 2. **Async Streams**

- C# 8 hỗ trợ `IAsyncEnumerable` và `await foreach`, cho phép xử lý các stream bất đồng bộ.
- Ví dụ:
  ```csharp
  await foreach (var item in GetDataAsync())
  {
      Console.WriteLine(item);
  }
  ```

### 3. **Switch Expressions**

- Cung cấp cú pháp ngắn gọn và mạnh mẽ hơn để thực hiện phép so sánh trong switch.
- Ví dụ:
  ```csharp
  var result = x switch
  {
      1 => "One",
      2 => "Two",
      _ => "Unknown"
  };
  ```

### 4. **Range and Index**

- Cung cấp kiểu `Range` và `Index` để làm việc với các dãy và các chỉ số trong mảng hoặc chuỗi dễ dàng hơn.
- Ví dụ:
  ```csharp
  var array = new int[] { 1, 2, 3, 4, 5 };
  var subArray = array[1..3]; // [2, 3]
  ```

### 5. **Default Interface Methods**

- Cho phép thêm phương thức mặc định vào giao diện, giúp dễ dàng thêm tính năng mới vào giao diện mà không phá vỡ mã nguồn hiện có.
- Ví dụ:
  ```csharp
  public interface IExample
  {
      void Method1();
      void Method2() => Console.WriteLine("Default implementation");
  }
  ```

---

## C# 9 (Phát Hành vào 2020)

### 1. **Records**

- Cung cấp kiểu `record` để tạo các lớp bất biến, giúp dễ dàng tạo các đối tượng với các thuộc tính không thay đổi.
- Ví dụ:
  ```csharp
  public record Person(string Name, int Age);
  ```

### 2. **Init-only Properties**

- Cho phép khai báo thuộc tính chỉ có thể được gán giá trị một lần trong quá trình khởi tạo đối tượng.
- Ví dụ:
  ```csharp
  public class Person
  {
      public string Name { get; init; }
  }
  ```

### 3. **Covariant Returns**

- Hỗ trợ việc thay đổi kiểu trả về trong lớp kế thừa, miễn là kiểu trả về là một kiểu con của kiểu trả về trong lớp cơ sở.

### 4. **Pattern Matching Enhancements**

- Cải thiện khả năng so khớp mẫu với `and`, `or`, và `not`.
- Ví dụ:
  ```csharp
  if (obj is int or double) { ... }
  ```

---

## C# 10 (Phát Hành vào 2021)

### 1. **Global Using Directives**

- Cung cấp khả năng khai báo các `using` toàn cục, giúp giảm thiểu việc khai báo `using` nhiều lần trong mỗi file.
- Ví dụ:
  ```csharp
  global using System;
  global using MyNamespace;
  ```

### 2. **File-scoped Namespace**

- Giảm bớt mức độ lồng vào các namespace bằng cách sử dụng `namespace` ở mức file.
- Ví dụ:
  ```csharp
  namespace MyNamespace;
  ```

### 3. **Improved Lambda Expressions**

- Cải tiến cú pháp lambda với khả năng khai báo loại trả về rõ ràng.
- Ví dụ:
  ```csharp
  Func<int, int, int> add = (x, y) => x + y;
  ```

---

## C# 11 (Phát Hành vào 2022)

### 1. **List Patterns**

- Hỗ trợ các mẫu danh sách để kiểm tra các thuộc tính trong một danh sách hoặc mảng.
- Ví dụ:
  ```csharp
  if (myArray is [1, 2, ..])
  {
      // Match for an array starting with 1, followed by 2
  }
  ```

### 2. **Required Members**

- Cung cấp từ khóa `required` để yêu cầu các thuộc tính phải được gán giá trị trong quá trình khởi tạo đối tượng.
- Ví dụ:
  ```csharp
  public class Person
  {
      public required string Name { get; set; }
  }
  ```

### 3. **UTF-8 String Literals**

- Hỗ trợ khai báo chuỗi có mã hóa UTF-8 trực tiếp trong mã nguồn.
- Ví dụ:
  ```csharp
  var utf8String = u8"Hello, World!";
  ```

---

## C# 12 (Phát Hành vào 2023)

### 1. **Primary Constructor for Non-Record Types**

- Cho phép sử dụng constructor chính trong các lớp không phải record.
- Ví dụ:
  ```csharp
  public class Person(string name, int age)
  {
      public void Print() => Console.WriteLine($"{name}, {age}");
  }
  ```

### 2. **Improved Static Abstract Members**

- Cho phép sử dụng các thành viên tĩnh trừu tượng trong giao diện.
- Ví dụ:
  ```csharp
  public interface IShape
  {
      static abstract double Area { get; }
  }
  ```

### 3. **Enhanced Pattern Matching**

- Mở rộng khả năng so khớp mẫu với các điều kiện phức tạp hơn, chẳng hạn như việc kết hợp các loại đối tượng khác nhau.

---

Tóm lại, C# đã liên tục cải tiến và bổ sung những tính năng mới giúp tăng cường khả năng lập trình, bảo mật, và khả năng mở rộng trong suốt các phiên bản từ C# 8 đến C# 12.
