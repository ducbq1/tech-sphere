---
slug: struts
title: Tổng Quan Về Apache Struts 1
authors: [ducbq1]
tags: [java, struts]
---

# 📘 Tổng Quan Về Apache Struts 1

Apache Struts 1 là một framework MVC (Model-View-Controller) cổ điển dùng để xây dựng ứng dụng web Java EE. Nó từng rất phổ biến trong các ứng dụng Java web trước khi Struts 2, Spring MVC và các framework hiện đại khác ra đời.

---

## 🧱 Kiến Trúc Struts 1

Struts 1 dựa trên mô hình MVC:

- **Model**: Lớp nghiệp vụ, DAO (Data Access Object), JDBC, Hibernate, v.v.
- **View**: JSP, HTML, JSTL.
- **Controller**: Các lớp `Action` xử lý yêu cầu người dùng.

Quá trình xử lý:
1. Người dùng gửi yêu cầu HTTP.
2. Yêu cầu được tiếp nhận bởi `ActionServlet`.
3. `ActionServlet` dựa vào `struts-config.xml` để gọi lớp `Action`.
4. `Action` xử lý và trả về một `ActionForward`.
5. `ActionServlet` chuyển tiếp đến view (JSP).

---

## 🗂 Cấu Trúc Thư Mục Cơ Bản

```
/WEB-INF/
│
├── web.xml
├── struts-config.xml
├── classes/
│   └── com.example.action/
│       └── HelloAction.java
└── jsp/
    └── hello.jsp
```

---

## 📄 Các File Cấu Hình Chính

### 1. `web.xml`

```xml
<servlet>
    <servlet-name>action</servlet-name>
    <servlet-class>org.apache.struts.action.ActionServlet</servlet-class>
    <init-param>
        <param-name>config</param-name>
        <param-value>/WEB-INF/struts-config.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>action</servlet-name>
    <url-pattern>*.do</url-pattern>
</servlet-mapping>
```

### 2. `struts-config.xml`

```xml
<struts-config>
    <form-beans>
        <form-bean name="helloForm" type="com.example.form.HelloForm"/>
    </form-beans>

    <action-mappings>
        <action path="/hello" 
                type="com.example.action.HelloAction" 
                name="helloForm" 
                scope="request" 
                validate="false">
            <forward name="success" path="/jsp/hello.jsp"/>
        </action>
    </action-mappings>
</struts-config>
```

---

## 🧑‍💻 Action Class Ví Dụ

```java
public class HelloAction extends Action {
    public ActionForward execute(ActionMapping mapping, ActionForm form,
                                 HttpServletRequest request, HttpServletResponse response)
            throws Exception {
        request.setAttribute("message", "Xin chào từ Struts 1!");
        return mapping.findForward("success");
    }
}
```

---

## 🔄 DispatchAction và `unspecified` Method

`DispatchAction` cho phép xử lý nhiều hành động trong một class.

```java
public class MyAction extends DispatchAction {
    public ActionForward add(...) { ... }
    public ActionForward delete(...) { ... }

    @Override
    protected ActionForward unspecified(...) {
        // Khi không có "method" được truyền
        return mapping.findForward("default");
    }
}
```

Cấu hình:

```xml
<action path="/myAction" 
        type="com.example.MyAction" 
        parameter="method">
    <forward name="add" path="/add.jsp"/>
    <forward name="delete" path="/delete.jsp"/>
    <forward name="default" path="/index.jsp"/>
</action>
```

---

## ⚠️ Nhược Điểm và Lỗi Thời

- Cấu hình XML nặng nề.
- Không hỗ trợ annotation như các framework hiện đại.
- Khó test unit.
- Không còn được duy trì (Struts 1 đã bị khai tử).

---

## ✅ Thay Thế Bởi

- **Struts 2**
- **Spring MVC**
- **JSF**
- **Jakarta EE MVC**

---

## 📚 Tài Nguyên Học Tập

- [Struts 1 Documentation (Archived)](https://struts.apache.org/struts1/)
- [Examples on GitHub](https://github.com/)

---

> **Ghi chú**: Nếu bạn đang phát triển ứng dụng mới, hãy cân nhắc dùng Struts 2 hoặc Spring Boot để tận dụng tính năng hiện đại và bảo mật hơn.
